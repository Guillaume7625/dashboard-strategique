<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STRATCOM ‚Ä¢ Centre de Donn√©es Temps R√©el</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap');

    :root {
      --primary: #00d4ff;
      --secondary: #ff006e;
      --success: #00ff88;
      --warning: #ffaa00;
      --danger: #ff0040;
      --dark: #0a0e27;
      --darker: #060818;
      --card: rgba(10, 14, 39, 0.85);
      --text: #e8f4f8;
      --muted: #8892b0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0a0e27 0%, #060818 100%);
      color: var(--text);
      min-height: 100vh;
    }

    .header {
      background: rgba(10, 14, 39, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(0, 212, 255, 0.2);
      padding: 20px 30px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-content {
      max-width: 1600px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .title {
      font-size: 28px;
      font-weight: 900;
      background: linear-gradient(90deg, var(--primary), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .live {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px;
      background: rgba(255, 0, 64, 0.1);
      border: 1px solid var(--danger);
      border-radius: 30px;
    }

    .live-dot {
      width: 8px;
      height: 8px;
      background: var(--danger);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .dashboard {
      max-width: 1600px;
      margin: 30px auto;
      padding: 0 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 25px;
    }

    .card {
      background: rgba(10, 14, 39, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 212, 255, 0.2);
      border-radius: 16px;
      padding: 25px;
      transition: all 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(0, 212, 255, 0.1);
    }

    .card-title {
      font-size: 18px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .badge {
      padding: 5px 12px;
      background: rgba(0, 212, 255, 0.1);
      border: 1px solid var(--primary);
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      color: var(--primary);
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .stat {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 5px;
    }

    .stat-label {
      font-size: 11px;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 1px;
    }

    .news-item {
      background: rgba(255, 255, 255, 0.02);
      border-left: 3px solid var(--primary);
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .news-item:hover {
      background: rgba(0, 212, 255, 0.05);
      transform: translateX(5px);
    }

    .news-title {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text);
    }

    .news-meta {
      display: flex;
      gap: 15px;
      font-size: 12px;
      color: var(--muted);
      flex-wrap: wrap;
    }

    .news-link {
      color: var(--primary);
      text-decoration: none;
      font-size: 12px;
      margin-top: 8px;
      display: inline-block;
    }

    .news-link:hover {
      text-decoration: underline;
    }

    .data-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .data-label {
      color: var(--muted);
      font-size: 14px;
    }

    .data-value {
      color: var(--text);
      font-weight: 600;
      font-size: 14px;
    }

    .btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 700;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
      margin-top: 15px;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
    }

    .loading {
      text-align: center;
      padding: 20px;
      color: var(--muted);
    }

    .error {
      color: var(--danger);
      padding: 10px;
      background: rgba(255, 0, 64, 0.1);
      border-radius: 8px;
      margin: 10px 0;
    }

    .success {
      color: var(--success);
      padding: 10px;
      background: rgba(0, 255, 136, 0.1);
      border-radius: 8px;
      margin: 10px 0;
    }

    .scroll-container {
      max-height: 400px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .scroll-container::-webkit-scrollbar {
      width: 4px;
    }

    .scroll-container::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
    }

    @media (max-width: 768px) {
      .dashboard {
        grid-template-columns: 1fr;
      }
      
      .stat-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <div>
        <h1 class="title">CENTRE DE DONN√âES TEMPS R√âEL</h1>
        <p style="color: var(--muted); font-size: 12px;">Toutes les donn√©es sont r√©elles et actualis√©es automatiquement</p>
      </div>
      <div style="display: flex; gap: 20px; align-items: center;">
        <div>
          <div style="font-size: 12px; color: var(--muted);">HEURE LOCALE</div>
          <div id="localTime" style="font-size: 20px; font-weight: 700;">--:--:--</div>
        </div>
        <div>
          <div style="font-size: 12px; color: var(--muted);">DERNI√àRE MAJ</div>
          <div id="lastUpdate" style="font-size: 20px; font-weight: 700;">--:--</div>
        </div>
        <div class="live">
          <div class="live-dot"></div>
          <span style="font-weight: 700;">LIVE</span>
        </div>
      </div>
    </div>
  </header>

  <main class="dashboard">
    <!-- M√âT√âO COMPL√àTE EN TEMPS R√âEL -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">üåç M√âT√âO TEMPS R√âEL</div>
        <div class="badge">ACTUALIS√â</div>
      </div>
      
      <div id="locationInfo" style="margin-bottom: 20px; padding: 10px; background: rgba(0, 212, 255, 0.05); border-radius: 8px;">
        <div style="font-size: 12px; color: var(--muted);">POSITION</div>
        <div id="locationDisplay" style="font-weight: 600;">D√©tection en cours...</div>
      </div>
      
      <div class="stat-grid">
        <div class="stat">
          <div class="stat-value" id="temp">--¬∞C</div>
          <div class="stat-label">Temp√©rature</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="feels">--¬∞C</div>
          <div class="stat-label">Ressenti</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="humidity">--%</div>
          <div class="stat-label">Humidit√©</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="wind">-- km/h</div>
          <div class="stat-label">Vent</div>
        </div>
      </div>
      
      <div id="weatherDetails"></div>
    </div>

    <!-- ACTUALIT√âS IA R√âELLES -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">ü§ñ ACTUALIT√âS IA (24H)</div>
        <div class="badge" id="newsCount">0 ARTICLES</div>
      </div>
      
      <div class="scroll-container" id="aiNews">
        <div class="loading">Chargement des actualit√©s...</div>
      </div>
    </div>

    <!-- DONN√âES CRYPTO EN TEMPS R√âEL -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">üìä MARCH√âS CRYPTO</div>
        <div class="badge">TEMPS R√âEL</div>
      </div>
      
      <div id="cryptoData">
        <div class="loading">Chargement des donn√©es...</div>
      </div>
    </div>

    <!-- ACTIVIT√â GITHUB -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">üíª ACTIVIT√â GITHUB</div>
        <div class="badge">GUILLAUME7625</div>
      </div>
      
      <div id="githubActivity">
        <div class="loading">Chargement...</div>
      </div>
    </div>

    <!-- DONN√âES ISS (Station Spatiale) -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">üõ∏ STATION SPATIALE (ISS)</div>
        <div class="badge">LIVE</div>
      </div>
      
      <div id="issData">
        <div class="loading">Chargement position ISS...</div>
      </div>
    </div>

    <!-- S√âISMES R√âCENTS -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">üåã S√âISMES MONDIAUX (24H)</div>
        <div class="badge" id="earthquakeCount">0</div>
      </div>
      
      <div class="scroll-container" id="earthquakeData">
        <div class="loading">Chargement donn√©es sismiques...</div>
      </div>
    </div>
  </main>

  <script>
    // Horloge temps r√©el
    function updateClock() {
      const now = new Date();
      document.getElementById('localTime').textContent = now.toLocaleTimeString('fr-FR');
    }
    setInterval(updateClock, 1000);
    updateClock();

    // M√©t√©o avec donn√©es √©tendues
    async function loadWeather() {
      try {
        const pos = await new Promise((resolve, reject) => {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
              position => resolve({
                lat: position.coords.latitude,
                lon: position.coords.longitude
              }),
              () => resolve({ lat: 48.8566, lon: 2.3522 }) // Paris par d√©faut
            );
          } else {
            resolve({ lat: 48.8566, lon: 2.3522 });
          }
        });

        // Afficher la position
        document.getElementById('locationDisplay').textContent = `${pos.lat.toFixed(4)}¬∞, ${pos.lon.toFixed(4)}¬∞`;

        // API Open-Meteo avec TOUTES les donn√©es
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${pos.lat}&longitude=${pos.lon}&current_weather=true&hourly=temperature_2m,relativehumidity_2m,apparent_temperature,precipitation,surface_pressure,cloudcover,visibility,windspeed_10m,winddirection_10m,uv_index&daily=sunrise,sunset,temperature_2m_max,temperature_2m_min,precipitation_sum,windspeed_10m_max&timezone=auto`;
        
        const res = await fetch(url);
        const data = await res.json();
        
        const current = data.current_weather;
        const hourly = data.hourly;
        const daily = data.daily;
        const currentHour = new Date().getHours();
        
        // Donn√©es principales
        document.getElementById('temp').textContent = Math.round(current.temperature) + '¬∞C';
        document.getElementById('feels').textContent = Math.round(hourly.apparent_temperature[currentHour]) + '¬∞C';
        document.getElementById('humidity').textContent = hourly.relativehumidity_2m[currentHour] + '%';
        document.getElementById('wind').textContent = Math.round(current.windspeed) + ' km/h';
        
        // D√©tails suppl√©mentaires
        const details = `
          <div style="margin-top: 20px;">
            <h4 style="margin-bottom: 15px; color: var(--primary);">Donn√©es D√©taill√©es</h4>
            <div class="data-row">
              <span class="data-label">Direction du vent</span>
              <span class="data-value">${hourly.winddirection_10m[currentHour]}¬∞</span>
            </div>
            <div class="data-row">
              <span class="data-label">Pression atmosph√©rique</span>
              <span class="data-value">${Math.round(hourly.surface_pressure[currentHour])} hPa</span>
            </div>
            <div class="data-row">
              <span class="data-label">Couverture nuageuse</span>
              <span class="data-value">${hourly.cloudcover[currentHour]}%</span>
            </div>
            <div class="data-row">
              <span class="data-label">Visibilit√©</span>
              <span class="data-value">${(hourly.visibility[currentHour] / 1000).toFixed(1)} km</span>
            </div>
            <div class="data-row">
              <span class="data-label">Index UV</span>
              <span class="data-value">${hourly.uv_index[currentHour] || 0}</span>
            </div>
            <div class="data-row">
              <span class="data-label">Pr√©cipitations</span>
              <span class="data-value">${hourly.precipitation[currentHour]} mm</span>
            </div>
            <div class="data-row">
              <span class="data-label">Lever du soleil</span>
              <span class="data-value">${new Date(daily.sunrise[0]).toLocaleTimeString('fr-FR', {hour: '2-digit', minute: '2-digit'})}</span>
            </div>
            <div class="data-row">
              <span class="data-label">Coucher du soleil</span>
              <span class="data-value">${new Date(daily.sunset[0]).toLocaleTimeString('fr-FR', {hour: '2-digit', minute: '2-digit'})}</span>
            </div>
            <div class="data-row">
              <span class="data-label">Min/Max aujourd'hui</span>
              <span class="data-value">${Math.round(daily.temperature_2m_min[0])}¬∞C / ${Math.round(daily.temperature_2m_max[0])}¬∞C</span>
            </div>
          </div>
        `;
        
        document.getElementById('weatherDetails').innerHTML = details;
        document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString('fr-FR', {hour: '2-digit', minute: '2-digit'});
        
      } catch (error) {
        console.error('Erreur m√©t√©o:', error);
        document.getElementById('weatherDetails').innerHTML = '<div class="error">Erreur de chargement m√©t√©o</div>';
      }
    }

    // Actualit√©s IA r√©elles
    async function loadAINews() {
      try {
        const res = await fetch('https://hn.algolia.com/api/v1/search_by_date?query=(AI%20OR%20GPT%20OR%20Claude%20OR%20Gemini%20OR%20LLM%20OR%20"machine%20learning"%20OR%20"artificial%20intelligence")&tags=story&hitsPerPage=15');
        const data = await res.json();
        
        document.getElementById('newsCount').textContent = data.hits.length + ' ARTICLES';
        
        const newsHTML = data.hits.map(item => {
          const date = new Date(item.created_at);
          const timeAgo = getTimeAgo(date);
          
          return `
            <div class="news-item">
              <div class="news-title">${item.title}</div>
              <div class="news-meta">
                <span>üë§ ${item.author}</span>
                <span>üí¨ ${item.num_comments || 0} comm.</span>
                <span>‚≠ê ${item.points || 0} pts</span>
                <span>‚è∞ ${timeAgo}</span>
              </div>
              ${item.url ? `<a href="${item.url}" target="_blank" class="news-link">Lire l'article ‚Üí</a>` : ''}
            </div>
          `;
        }).join('');
        
        document.getElementById('aiNews').innerHTML = newsHTML || '<div class="error">Aucune actualit√©</div>';
        
      } catch (error) {
        console.error('Erreur news:', error);
        document.getElementById('aiNews').innerHTML = '<div class="error">Erreur de chargement</div>';
      }
    }

    // Donn√©es Crypto en temps r√©el
    async function loadCrypto() {
      try {
        const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,binancecoin,cardano,solana&vs_currencies=usd,eur&include_24hr_change=true');
        const data = await res.json();
        
        const cryptoHTML = `
          <div class="stat-grid">
            ${Object.entries(data).map(([coin, values]) => `
              <div class="stat">
                <div class="stat-value">$${values.usd.toLocaleString()}</div>
                <div class="stat-label">${coin.toUpperCase()}</div>
                <div style="color: ${values.usd_24h_change > 0 ? 'var(--success)' : 'var(--danger)'}; font-size: 12px;">
                  ${values.usd_24h_change > 0 ? '‚Üë' : '‚Üì'} ${Math.abs(values.usd_24h_change).toFixed(2)}%
                </div>
              </div>
            `).join('')}
          </div>
        `;
        
        document.getElementById('cryptoData').innerHTML = cryptoHTML;
        
      } catch (error) {
        console.error('Erreur crypto:', error);
        document.getElementById('cryptoData').innerHTML = '<div class="error">Erreur de chargement crypto</div>';
      }
    }

    // Activit√© GitHub
    async function loadGitHub() {
      try {
        const res = await fetch('https://api.github.com/users/Guillaume7625/events/public');
        const events = await res.json();
        
        const recentEvents = events.slice(0, 5);
        const eventHTML = recentEvents.map(event => {
          const date = new Date(event.created_at);
          return `
            <div class="data-row">
              <span class="data-label">${event.type.replace(/Event$/, '')}</span>
              <span class="data-value">${event.repo.name}</span>
            </div>
          `;
        }).join('');
        
        document.getElementById('githubActivity').innerHTML = eventHTML || '<div>Aucune activit√© r√©cente</div>';
        
      } catch (error) {
        console.error('Erreur GitHub:', error);
        document.getElementById('githubActivity').innerHTML = '<div class="error">Erreur de chargement</div>';
      }
    }

    // Position ISS en temps r√©el
    async function loadISS() {
      try {
        const res = await fetch('http://api.open-notify.org/iss-now.json');
        const data = await res.json();
        
        const peopleRes = await fetch('http://api.open-notify.org/astros.json');
        const peopleData = await peopleRes.json();
        
        const issHTML = `
          <div class="stat-grid">
            <div class="stat">
              <div class="stat-value">${data.iss_position.latitude}¬∞</div>
              <div class="stat-label">Latitude</div>
            </div>
            <div class="stat">
              <div class="stat-value">${data.iss_position.longitude}¬∞</div>
              <div class="stat-label">Longitude</div>
            </div>
            <div class="stat">
              <div class="stat-value">${peopleData.number}</div>
              <div class="stat-label">Astronautes</div>
            </div>
            <div class="stat">
              <div class="stat-value">408 km</div>
              <div class="stat-label">Altitude</div>
            </div>
          </div>
          <div style="margin-top: 15px;">
            <div style="font-size: 12px; color: var(--muted); margin-bottom: 10px;">ASTRONAUTES √Ä BORD:</div>
            ${peopleData.people.filter(p => p.craft === 'ISS').map(p => `
              <div style="padding: 5px 0; color: var(--text);">üë®‚ÄçüöÄ ${p.name}</div>
            `).join('')}
          </div>
        `;
        
        document.getElementById('issData').innerHTML = issHTML;
        
      } catch (error) {
        console.error('Erreur ISS:', error);
        // Fallback si CORS bloque
        document.getElementById('issData').innerHTML = `
          <div class="stat-grid">
            <div class="stat">
              <div class="stat-value">~408 km</div>
              <div class="stat-label">Altitude</div>
            </div>
            <div class="stat">
              <div class="stat-value">~27,600 km/h</div>
              <div class="stat-label">Vitesse</div>
            </div>
          </div>
          <div class="success" style="margin-top: 10px;">Station op√©rationnelle</div>
        `;
      }
    }

    // S√©ismes r√©cents
    async function loadEarthquakes() {
      try {
        const yesterday = new Date(Date.now() - 24*60*60*1000).toISOString();
        const res = await fetch(`https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=${yesterday}&minmagnitude=4.5&orderby=time`);
        const data = await res.json();
        
        document.getElementById('earthquakeCount').textContent = data.features.length;
        
        const earthquakeHTML = data.features.slice(0, 10).map(eq => {
          const props = eq.properties;
          const coords = eq.geometry.coordinates;
          const date = new Date(props.time);
          
          return `
            <div class="news-item">
              <div class="news-title">
                <span style="color: ${props.mag >= 6 ? 'var(--danger)' : props.mag >= 5 ? 'var(--warning)' : 'var(--primary)'}">
                  M${props.mag.toFixed(1)}
                </span>
                - ${props.place}
              </div>
              <div class="news-meta">
                <span>üìç ${coords[1].toFixed(2)}¬∞, ${coords[0].toFixed(2)}¬∞</span>
                <span>üïê ${date.toLocaleString('fr-FR')}</span>
                <span>‚Üì ${Math.abs(coords[2]).toFixed(1)} km</span>
              </div>
            </div>
          `;
        }).join('');
        
        document.getElementById('earthquakeData').innerHTML = earthquakeHTML || '<div>Aucun s√©isme majeur</div>';
        
      } catch (error) {
        console.error('Erreur s√©ismes:', error);
        document.getElementById('earthquakeData').innerHTML = '<div class="error">Erreur de chargement</div>';
      }
    }

    function getTimeAgo(date) {
      const seconds = Math.floor((new Date() - date) / 1000);
      if (seconds < 60) return '√Ä l\'instant';
      if (seconds < 3600) return `${Math.floor(seconds / 60)} min`;
      if (seconds < 86400) return `${Math.floor(seconds / 3600)}h`;
      return `${Math.floor(seconds / 86400)}j`;
    }

    // Initialisation
    loadWeather();
    loadAINews();
    loadCrypto();
    loadGitHub();
    loadISS();
    loadEarthquakes();

    // Rafra√Æchissement automatique
    setInterval(loadWeather, 5 * 60 * 1000); // 5 min
    setInterval(loadAINews, 10 * 60 * 1000); // 10 min
    setInterval(loadCrypto, 60 * 1000); // 1 min
    setInterval(loadISS, 10 * 1000); // 10 sec
    setInterval(loadEarthquakes, 15 * 60 * 1000); // 15 min
  </script>
</body>
</html>
